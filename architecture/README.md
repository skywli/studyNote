## 高可用
### 存储
    通过数据冗余实现，因此要考虑数据如何复制以及因延迟/中断数据一致性问题
- 主备  
    备机仅起备份作用，并不承担读写作用
- 主从  
    从机仅提供读功能
- 主主  
    主机能相互复制，但是实际很多数据不能双向复制
- 集群
  - 集中式  
    如redis最初sentinal,一个master多个slave
  - 分散式  
    redis集群，数据分片，而每个分片又是master-slave模式
  - 分布式事务  
    保证分散在多个节点数据统一提交或回滚
    - 2pc
    - 3pc
  - 分布式一致性  
    保证同一数据多节点一致性  
    - raft
    - zab
    - paxos
- 分区  
    地理级别高可用性
    - 集中式
    - 互备式
    - 独立式

### 计算
    通过机器冗余实现
- 主备
- 主从
- 对称集群     
  集群中服务器角色都是一样的
- 非对称集群  
  集群中服务器有多个角色

  ### 业务
- 异地多活  
    高可用计算和存储只解决部分机器不可用下如何能继续提供服务，但是无法解决所有服务器都不可用下的高可用性。
- 接口故障  
  - 降级  
    将某些业务/接口的功能降低，只提供部分功能，丢车保帅。
  - 熔断
  - 限流  
    只允许能承受的用户量访问，超过系统访问能力请求将被丢弃
  - 排队  
    让用户等待，而非限流的直接拒绝


## 高性能
### 存储
- 关系型数据库
  - 读写分离
  - 分库分表
- NoSQL
- 缓存
  - 缓存穿透
  - 缓存雪崩
  - 缓存热点
### 计算
  - 单机高性能
    - reactor  
    单reactor单线程  单reactor多线程  多reactor 多进程/线程
  - 集群高性能  
    分类：dns地理级别负载均衡  F5硬件集群间   软件间  
    算法：
    - 任务平分  
      轮询、加权轮询
    - 负载最低优先  
      负载均衡器根据服务的负载情况(连接数、cpu/io负载)分配
    - 性能最优  
      优先将任务分配给响应最快的服务器
    - hash  
      ip/url/id

## 可扩展
  基本思想就是拆，按流程拆(分层)，按服务拆(soa、微服务)、按功能拆(微内核)
  - 分层
  - SOA
  - 微服务
    1. 拆分粒度
    2. 拆分方法  
       业务逻辑、可扩展、性能、可靠
    3. 基础设施  
      自动化测试、部署；配置中心、服务发现、服务路由；api网关、接口框架；服务容错、服务监控、服务跟踪、服务安全
  - 微内核  
    包含两类组件：核心系统和插件模块，涉及到插件管理、连接和通信



